require "import"
import "Jesse205"
import "android.graphics.Typeface"

activity.setTitle(AdapLan("开源许可","Open source license"))
activity.setContentView(loadlayout("OpenSourceLicenseLay"))
maindir=tostring(File(activity.getLuaDir()).getParentFile().getParentFile())

activity.ActionBar.setDisplayHomeAsUpEnabled(true)
function onOptionsItemSelected(item)
  activity.finish()
end


func,err=loadfile(maindir.."/app/about.lua")
if func then
  func()
 else
  error(err)
end

for index,content in pairs(OpenSourceLicense) do
  OpenSourceLicense[index].background={foreground=Ripple(nil,淡色普通波纹,"方")}
end


adp=LuaAdapter(activity, OpenSourceLicense, import("OpenSourceLicenseItem"))
listView.Adapter=adp
adp.notifyDataSetChanged()
listView.onItemClick=function(id,v,zero,one)
  activity.newActivity("../webview/main",{{标题=OpenSourceLicense[one].title,链接=OpenSourceLicense[one].url}})
end